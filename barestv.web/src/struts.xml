<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	<constant name="struts.devMode" value="true" />
	<constant name="struts.custom.i18n.resources" value="textos" />
	
	<package name="default" namespace="/" extends="struts-default">
		<!-- Paginas del usuario admin -->
		<action name="getDardealta">
			<result>admin_dardealta.jsp</result>
		</action>
		<action name="getDestacado">
			<result>admin_destacado.jsp</result>
		</action>
		<action name="getCategorias">
			<result>admin_categorias.jsp</result>
		</action>
		<action name="getEstablecimientos"  class="actions.EstablecimientosRetrieveAction">
			<result name="success">admin_establecimiento.jsp</result>
			<result name="fail">login.jsp</result>
			<result name="error">error.jsp</result>
		</action>
		
		<!-- Paginas del usuario normal -->
		<action name="getProgramacion">
			<result>esta_programacion.jsp</result>
		</action>
		<action name="getEstablecimiento"  class="actions.EstablecimientoRetrieveAction">
			<result name="success">esta_esta.jsp</result>
			<result name="fail">login.jsp</result>
			<result name="error">error.jsp</result>
			<result name="login">index.jsp</result>
		</action>
		<!-- Opciones usuario -->
		<action name="getUsuario">
			<result>esta_usuario.jsp</result>
		</action>
		<!-- Session -->
		<action name="logearse" class="actions.SessionCreateAction">
			<result name="input">index.jsp</result>
			<result name="admin" type="chain">getEstablecimientos</result>
			<result name="noadmin" type="chain">getEstablecimiento</result>
			<result name="fail">index.jsp</result>
			<result name="error">error.jsp</result>
		</action>
		<action name="cerrarSesion" class="actions.SessionCloseAction">
			<result>index.jsp</result>
		</action>
		<action name="login">
			<result>index.jsp</result>
		</action>
		<action name="*">
			<result>error.jsp</result>
		</action>	
	</package>
		
</struts>
